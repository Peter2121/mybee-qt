# Первоначальная настройка MyBee-QT

Приложение может взаимодействовать с backend (гипервизор-нодам) несколькими путями:

a) Через RestAPI, посредством HTTP запросов ( поддерживаемые этим режимом платформы: FreeBSD/Linux/MacOS/Android/Windows );
b) Через утилиту командной строки /usr/local/bin/cbsd на локальной ноде ( поддерживаемые этим режимом платформы: FreeBSD/Linux );
c) Через SSH соединение и утилиту командной строки (/usr/local/bin/cbsd) на удаленной ноде ( поддерживаемые этим режимом платформы: FreeBSD/Linux/MacOS/Android/Windows );

Первый вариант, где приложение работает как тонкий клиент с гипервизором через API, вам потребуется только пара приватного-публичного ключа для начала работы (приложение создает свою пару по-умолчанию);
В вариантах (b) и (c) потребуется предварительная настройка как со стороны клиентской системы, так и со стороны сервера.

## Работа с гипервизором через утилиту командной строки на локальной ноде

1) Пользователь, который запускает GUI приложение, должен входить в группу 'cbsd'. Это можно выполнить через командную строчку:

```
pw groupmod cbsd -M <xuser>
```

, где <xuser> - ваш login.

После чего необходимо выполнить logout/login. Убедитесь, что вы входите в группу `cbsd`, например:
```
id oleg
uid=1001(oleg) gid=1001(oleg) groups=1001(oleg),150(cbsd)
```

2) Добавьте полномочий на выполнение утилиту командной строки /usr/local/bin/cbsd через sudo правило.
Стандартный каталог для кастомных правил в FreeBSD системе: /usr/local/etc/sudoers.d/, в Linux: /etc/sudoers.d/

Например для FreeBSD системы:
```
cat > /usr/local/etc/sudoers.d/10_mybee <<EOF
Defaults     env_keep += "workdir DIALOG NOCOLOR CBSD_RNODE"
Cmnd_Alias   WEB_CMD = /usr/local/bin/cbsd
<xuser>   ALL=(ALL) NOPASSWD:SETENV: WEB_CMD
EOF

chmod 0400 /usr/local/etc/sudoers.d/10_mybee
```

, где <xuser> - ваш login.

Убедитесь, что ваш пользователь может выполнить команду `cbsd` без пароля, например:
```
sudo cbsd summary
```


---

Дальше: [Первоначальная настройка MyBee-QT](setup.md)
